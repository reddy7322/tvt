<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Music Style Player</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Parkinson&display=swap" rel="stylesheet">
    <style>
        /* General Reset and Layout */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Parkinsans', sans-serif;
            background-color: #121212;
            color: white;
            height: 100%;
            overflow: hidden;
        }

        /* Loader Styles */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loader .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide loader when page is loaded */
        .hide-loader {
            display: none;
        }

        /* Main Layout */
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* Header */
        #header {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #1F1F1F;
            justify-content: space-between;
        }

        /* Logo Container */
        #logo-container {
            width: 30px;
            height: 30px;
        }

        /* Page Logo */
        #page-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* Search Bar */
        #search-container {
            display: flex;
            align-items: center;
            background-color: #333;
            border-radius: 20px;
            padding: 5px 15px;
            width: 200px;
            transition: all 0.3s ease;
        }

        #search-bar {
            background: none;
            border: none;
            color: white;
            font-size: 14px;
            outline: none;
            padding: 5px;
            width: 150px;
        }

        #search-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        /* Main Player */
        #player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        /* Song Info */
        #song-info {
            text-align: center;
            margin-bottom: 20px;
        }

        #song-name {
            font-size: 22px;
            font-weight: bold;
            margin: 10px 0;
        }

        #song-artist {
            font-size: 16px;
            color: #999;
        }

        #album-name {
            font-size: 14px;
            color: #888;
            margin-top: 5px;
        }

        /* Song List */
        #song-list {
            width: 100%;
            padding: 10px;
            background-color: #1F1F1F;
            border-radius: 10px;
            margin-bottom: 20px;
            border: none;
            color: white;
        }

        /* Album Image */
        #album-poster {
            width: 250px;
            height: 250px;
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        /* Lyrics Container */
        #lyrics-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 18px;
            padding: 10px;
            overflow-y: auto;
            text-align: center;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0s 0.3s;
        }

        /* Hide lyrics container by default */
        .hide-lyrics {
            visibility: hidden;
            opacity: 0;
        }

        /* Show lyrics container */
        .show-lyrics {
            visibility: visible;
            opacity: 1;
        }

        /* Controls */
        #controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
        }

        #controls button {
            background: none;
            border: none;
            color: white;
            font-size: 40px;
            cursor: pointer;
        }

        /* Progress Bar */
        #progress-bar {
            width: 100%;
            height: 10px;
            background-color: #333;
            border-radius: 5px;
            margin: 10px 0;
            outline: none;
            cursor: pointer;
        }

        #progress-bar::-webkit-slider-thumb {
            background: #FF4081;
            border: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Quality Dropdown */
        #quality-select {
            background: #333;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 15px;
        }

        /* Shuffle and Download Icon */
        #shuffle-btn {
            font-size: 30px;
            color: white;
            cursor: pointer;
            margin-right: 20px;
        }

        #download-btn {
            font-size: 30px;
            color: white;
            cursor: pointer;
        }

        /* Mobile Responsiveness */
        @media (max-width: 600px) {
            #search-container {
                width: 150px;
            }

            #song-list {
                width: 90%;
            }

            #song-name {
                font-size: 18px;
            }

            #song-artist {
                font-size: 14px;
            }

            #controls button {
                font-size: 30px;
            }

            #quality-select {
                font-size: 14px;
            }

            #album-poster {
                width: 200px;
                height: 200px;
            }

            #download-btn {
                font-size: 20px;
            }
        }

        /* Hide audio element */
        #audio {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <div class="container" id="content" class="hide-loader">

        <!-- Header: Page Logo & Search Bar -->
        <div id="header">
            <div id="logo-container">
                <img src="https://tvtelugu.github.io/images/tvtelugu.ico" alt="Logo" id="page-logo" />
            </div>
            <div id="search-container">
                <input type="text" id="search-bar" placeholder="Search..." onkeyup="searchSongs(this.value)" />
                <button id="search-btn">
                    <i class="material-icons">search</i>
                </button>
            </div>
        </div>

        <!-- Main Player -->
        <div id="player-container">

            <!-- Album Poster -->
            <div id="album-poster" style="background-image: url('');" onclick="toggleLyrics()">
                <div id="lyrics-container" class="hide-lyrics">
                    <pre id="lyrics"></pre>
                </div>
            </div>

            <!-- Song Info -->
            <div id="song-info">
                <span id="song-name">Song Name</span>
                <span id="song-artist">Artist Name</span>
                <span id="album-name">Album Name</span>
            </div>

            <!-- Song List Dropdown -->
            <select id="song-list" onchange="playSong()">
                <option value="">Select a song</option>
            </select>

            <!-- Controls -->
            <div id="controls">
                <button id="prev" onclick="prevSong()">
                    <i class="material-icons">skip_previous</i>
                </button>
                <button id="play" onclick="togglePlay()">
                    <i class="material-icons" id="play-icon">play_arrow</i>
                </button>
                <button id="next" onclick="nextSong()">
                    <i class="material-icons">skip_next</i>
                </button>
                <!-- Shuffle Button -->
                <button id="shuffle-btn" onclick="shufflePlaylist()">
                    <i class="material-icons">shuffle</i>
                </button>
                <!-- Download Button -->
                <button id="download-btn" onclick="downloadSong()">
                    <i class="material-icons">file_download</i>
                </button>
            </div>

            <!-- Progress Bar -->
            <input type="range" id="progress-bar" value="0" max="100" onchange="seekSong()" />
            <span id="time-display">0:00</span>

            <!-- Quality Dropdown -->
            <select id="quality-select" onchange="changeQuality()">
                <option value="12">Low Quality (12 kbps)</option>
                <option value="48">Medium Quality (48 kbps)</option>
                <option value="96" selected>High Quality (96 kbps)</option>
                <option value="160">Very High Quality (160 kbps)</option>
                <option value="320">Ultra High Quality (320 kbps)</option>
            </select>

        </div>

    </div>

    <!-- Audio Player (Hidden) -->
    <audio id="audio" controls></audio>
    <script>
      const queries = [
            'Telugu', 'SBP', 'Devi Sri Prasad', 'Mani Sharma', 'love', 'Anoop Rubens',
            'S. P. Balasubrahmanyam', 'Ilaiyaraaja', 'K.J. Yesudas', 'M. M. Keeravani',
            'Annamayya Keerthana', 'G.V. Prakash Kumar', 'Anurag Kulkarni', 'Mahesh Babu',
            'Thaman S', 'Yuvan Shankar Raja'
        ];

        const audio = document.getElementById("audio");
        const playIcon = document.getElementById("play-icon");
        const progressBar = document.getElementById("progress-bar");
        const timeDisplay = document.getElementById("time-display");
        const songList = document.getElementById("song-list");
        const lyricsContainer = document.getElementById("lyrics-container");
        const lyricsText = document.getElementById("lyrics");
        const albumPoster = document.getElementById("album-poster");
        let currentSongIndex = 0;
        let isPlaying = false;

        // Toggle play/pause
        function togglePlay() {
            if (isPlaying) {
                audio.pause();
                playIcon.innerText = "play_arrow";
            } else {
                audio.play();
                playIcon.innerText = "pause";
            }
            isPlaying = !isPlaying;
        }

        // Update song time and progress bar
        audio.addEventListener('timeupdate', function() {
            const currentTime = audio.currentTime;
            const duration = audio.duration;
            const progress = (currentTime / duration) * 100;
            progressBar.value = progress;

            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            timeDisplay.innerText = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
        });

        // Change song progress
        function seekSong() {
            const progress = progressBar.value;
            const duration = audio.duration;
            audio.currentTime = (progress / 100) * duration;
        }

        // Play selected song
        function playSong() {
            const selectedSong = songList.value;
            if (selectedSong) {
                currentSongIndex = songList.selectedIndex - 1;  // Adjust index for selected song
                loadSong();
            }
        }

        // Load song
        function loadSong() {
            const song = songList.options[currentSongIndex];
            const songUrl = song.getAttribute('data-url');
            const songTitle = song.getAttribute('data-title');
            const artistName = song.getAttribute('data-artist');
            const albumCover = song.getAttribute('data-cover');
            const lyrics = song.getAttribute('data-lyrics');

            audio.src = songUrl;
            audio.play();
            isPlaying = true;
            playIcon.innerText = "pause";
            songInfoUpdate(songTitle, artistName, albumCover);
            loadLyrics(lyrics);
        }

        // Update song info
        function songInfoUpdate(title, artist, album) {
            document.getElementById("song-name").innerText = title;
            document.getElementById("song-artist").innerText = artist;
            document.getElementById("album-name").innerText = album;
        }

        // Toggle lyrics visibility
        function toggleLyrics() {
            lyricsContainer.classList.toggle("show-lyrics");
        }

        // Load lyrics for the song
        function loadLyrics(lyrics) {
            lyricsText.innerText = lyrics;
        }

        // Add more functionality for next/prev song, shuffle, download, etc.
        // You can extend this functionality further as needed.
    </script>
</body>
</html>
