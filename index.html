<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Music Style Player</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Parkinson&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anek+Telugu:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* General Reset and Layout */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Parkinson', sans-serif;
            background-color: #121212;
            color: white;
            height: 100%;
            overflow: hidden;
        }

        /* Loader Styles */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loader .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide loader when page is loaded */
        .hide-loader {
            display: none;
        }

        /* Main Layout */
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* Header */
        #header {
            display: flex;
            align-items: center;
            padding: 15px;
            background-color: #1F1F1F;
            justify-content: space-between;
        }

        /* Logo Container */
        #logo-container {
            width: 30px;
            height: 30px;
        }

        /* Page Logo */
        #page-logo {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        /* Search Bar */
        #search-container {
            display: flex;
            align-items: center;
            background-color: #333;
            border-radius: 20px;
            padding: 5px 15px;
            width: 200px;
            transition: all 0.3s ease;
        }

        #search-bar {
            background: none;
            border: none;
            color: white;
            font-size: 14px;
            outline: none;
            padding: 5px;
            width: 150px;
        }

        #search-btn {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        /* Main Player */
        #player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            flex: 1;
            overflow-y: auto;
        }

        /* Album Image */
        #album-poster {
            width: 350px;
            height: 350px;
            background-size: cover;
            background-position: center;
            border-radius: 15px;
            margin-bottom: 15px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Lyrics Section */
        #lyrics-container {
            font-family: 'Anek Telugu', sans-serif;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 98%;
            text-align: center;
            color: #bbb;
            font-size: 14px;
            z-index: 10;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            backdrop-filter: blur(8px);
            overflow-y: auto;
            max-height: 98%;
            scroll-behavior: smooth;
        }

        /* Lyrics Text */
        #lyrics-text {
            white-space: pre-line;
            font-size: 14px;
            color: white;
            line-height: 1.5;
        }

        /* Highlighted Lyrics */
        .highlight {
            color: #ffffff;
            font-weight: none;
        }

        /* Hide the scroll bar */
        #lyrics-container::-webkit-scrollbar {
            display: none;
        }

        /* Song Info */
        #song-info {
            text-align: center;
            margin-bottom: 20px;
        }

        #song-name {
            font-size: 22px;
            font-weight: bold;
            margin: 10px 0;
        }

        #song-artist {
            font-size: 16px;
            color: #999;
        }

        #album-name {
            font-size: 14px;
            font-weight: bold;
            color: #888;
            margin-top: 5px;
        }

        /* Song List */
        #song-list {
            width: 100%;
            padding: 10px;
            background-color: #1F1F1F;
            border-radius: 10px;
            margin-bottom: 20px;
            border: none;
            color: white;
        }

        /* Controls */
        #controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
        }

        #controls button {
            background: none;
            border: none;
            color: white;
            font-size: 40px;
            cursor: pointer;
        }

        /* Progress Bar */
        #progress-bar {
            width: 100%;
            height: 10px;
            background-color: #333;
            border-radius: 5px;
            margin: 10px 0;
            outline: none;
            cursor: pointer;
        }

        #progress-bar::-webkit-slider-thumb {
            background: #FF4081;
            border: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            cursor: pointer;
        }

        /* Quality Dropdown */
        #quality-select {
            background: #333;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 15px;
        }

        /* Shuffle and Download Icon */
        #shuffle-btn {
            font-size: 30px;
            color: white;
            cursor: pointer;
            margin-right: 20px;
        }

        #downloadButton {
            font-size: 30px;
            color: white;
            cursor: pointer;
        }

        #quality-dropdown {
            display: none;
        }

        #quality-select {
            width: 200px;
        }

        /* Mobile Responsiveness */
        @media (max-width: 600px) {
            #search-container {
                width: 150px;
            }

            #song-list {
                width: 90%;
            }

            #song-name {
                font-size: 18px;
            }

            #song-artist {
                font-size: 14px;
            }

            #controls button {
                font-size: 30px;
            }

            #quality-select {
                font-size: 14px;
            }

            #album-poster {
                width: 350px;
                height: 350px;
            }

            #downloadButton {
                font-size: 20px;
            }
        }

        /* Hide audio element */
        #audio {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <div class="container" id="content" class="hide-loader">

        <!-- Header -->
        <div id="header">
            <div id="logo-container">
                <img src="https://tvtelugu.github.io/images/tvtelugu.ico" alt="Logo" id="page-logo" />
            </div>
            <div id="search-container">
                <input type="text" id="search-bar" placeholder="Search..." onkeyup="searchSongs(this.value)" />
                <button id="search-btn">
                    <i class="material-icons">search</i>
                </button>
            </div>
        </div>

        <!-- Main Player -->
        <div id="player-container">

            <!-- Album Poster -->
            <div id="album-poster" onclick="toggleLyrics()">
                <div id="lyrics-container">
                    <div id="lyrics-text">Loading lyrics...</div>
                </div>
            </div>

            <!-- Song Info -->
            <div id="song-info">
                <p> <span id="song-name">Song Name</span> </p>
                <span id="song-artist">Artist Name</span> <span> - </span>
                <span id="album-name">Album Name</span>
            </div>

            <!-- Controls -->
            <div id="controls">
                <button id="shuffle-btn" onclick="shufflePlaylist()">
                    <i class="material-icons">shuffle</i>
                </button>
                <button id="prev" onclick="prevSong()">
                    <i class="material-icons">skip_previous</i>
                </button>
                <button id="play" onclick="togglePlay()">
                    <i class="material-icons" id="play-icon">play_arrow</i>
                </button>
                <button id="next" onclick="nextSong()">
                    <i class="material-icons">skip_next</i>
                </button>
                <button id="downloadButton" onclick="downloadAudio()">
                    <i class="material-icons">download</i>
                </button>
                <!-- Settings Icon to toggle the quality dropdown -->
                <button id="settings-btn" onclick="toggleQualityDropdown()">
                    <i class="material-icons">settings</i>
                </button>
            </div>

            <!-- Progress Bar -->
            <input type="range" id="progress-bar" value="0" max="100" onchange="seekSong()" />
            <span id="time-display">0:00</span>

            <!-- Quality Dropdown (Initially hidden) -->
            <div id="quality-dropdown">
                <select id="quality-select" onchange="changeQuality()">
                    <option value="12">Low Quality</option>
                    <option value="48">Medium Quality</option>
                    <option value="96">High Quality</option>
                    <option value="160" selected>Very High Quality</option>
                    <option value="320">Ultra High Quality</option>
                </select>
            </div>

            <!-- Song List -->
            <div id="song-list">
                <ul id="song-list-ul"></ul>
            </div>

        </div>
    </div>

    <!-- Hidden Audio Element -->
    <audio id="audio" controls>
        <source id="audio-source" src="" type="audio/mp3" />
    </audio>

    <script>
        // Example Songs Data
        const songs = [
            { title: 'Song 1', artist: 'Artist 1', album: 'Album 1', audioUrl: 'audio/song1.mp3', lyrics: 'Lyrics for Song 1' },
            { title: 'Song 2', artist: 'Artist 2', album: 'Album 2', audioUrl: 'audio/song2.mp3', lyrics: 'Lyrics for Song 2' },
            { title: 'Song 3', artist: 'Artist 3', album: 'Album 3', audioUrl: 'audio/song3.mp3', lyrics: 'Lyrics for Song 3' },
        ];

        // Current Song Index
        let currentSongIndex = 0;

        // Element References
        const audioElement = document.getElementById('audio');
        const playButton = document.getElementById('play');
        const playIcon = document.getElementById('play-icon');
        const songName = document.getElementById('song-name');
        const songArtist = document.getElementById('song-artist');
        const albumName = document.getElementById('album-name');
        const lyricsContainer = document.getElementById('lyrics-container');
        const lyricsText = document.getElementById('lyrics-text');
        const songList = document.getElementById('song-list-ul');
        const progressBar = document.getElementById('progress-bar');
        const timeDisplay = document.getElementById('time-display');
        const downloadButton = document.getElementById('downloadButton');
        const settingsBtn = document.getElementById('settings-btn');
        const qualityDropdown = document.getElementById('quality-dropdown');
        const qualitySelect = document.getElementById('quality-select');
        const shuffleBtn = document.getElementById('shuffle-btn');
        const nextButton = document.getElementById('next');
        const prevButton = document.getElementById('prev');

        // Initialize Songs List
        function loadSongs() {
            songList.innerHTML = '';
            songs.forEach((song, index) => {
                const li = document.createElement('li');
                li.textContent = `${song.title} - ${song.artist}`;
                li.onclick = () => loadSong(index);
                songList.appendChild(li);
            });
        }

        // Load a Song
        function loadSong(index) {
            currentSongIndex = index;
            const song = songs[currentSongIndex];
            audioElement.src = song.audioUrl;
            songName.textContent = song.title;
            songArtist.textContent = song.artist;
            albumName.textContent = song.album;
            lyricsText.textContent = song.lyrics;
            playIcon.textContent = 'play_arrow';
            playButton.disabled = false;
            updateProgressBar();
        }

        // Toggle Play/Pause
        function togglePlay() {
            if (audioElement.paused) {
                audioElement.play();
                playIcon.textContent = 'pause';
            } else {
                audioElement.pause();
                playIcon.textContent = 'play_arrow';
            }
        }

        // Toggle Shuffle
        function shufflePlaylist() {
            const randomIndex = Math.floor(Math.random() * songs.length);
            loadSong(randomIndex);
        }

        // Update Progress Bar
        function updateProgressBar() {
            setInterval(() => {
                if (!audioElement.paused) {
                    const progress = (audioElement.currentTime / audioElement.duration) * 100;
                    progressBar.value = progress;
                    const minutes = Math.floor(audioElement.currentTime / 60);
                    const seconds = Math.floor(audioElement.currentTime % 60);
                    timeDisplay.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
                }
            }, 1000);
        }

        // Seek Song
        function seekSong() {
            const seekTime = (progressBar.value / 100) * audioElement.duration;
            audioElement.currentTime = seekTime;
        }

        // Prev/Next Song
        function prevSong() {
            currentSongIndex = (currentSongIndex === 0) ? songs.length - 1 : currentSongIndex - 1;
            loadSong(currentSongIndex);
        }

        function nextSong() {
            currentSongIndex = (currentSongIndex === songs.length - 1) ? 0 : currentSongIndex + 1;
            loadSong(currentSongIndex);
        }

        // Lyrics Toggle
        function toggleLyrics() {
            lyricsContainer.style.display = lyricsContainer.style.display === 'none' ? 'block' : 'none';
        }

        // Download Audio
        function downloadAudio() {
            const link = document.createElement('a');
            link.href = audioElement.src;
            link.download = songs[currentSongIndex].title;
            link.click();
        }

        // Change Quality
        function changeQuality() {
            const quality = qualitySelect.value;
            audioElement.src = `audio/${songs[currentSongIndex].title}_${quality}.mp3`;
        }

        // Toggle Quality Dropdown
        function toggleQualityDropdown() {
            qualityDropdown.style.display = qualityDropdown.style.display === 'none' ? 'block' : 'none';
        }

        // Search Functionality
        function searchSongs(query) {
            const filteredSongs = songs.filter(song => song.title.toLowerCase().includes(query.toLowerCase()) || song.artist.toLowerCase().includes(query.toLowerCase()));
            songList.innerHTML = '';
            filteredSongs.forEach((song, index) => {
                const li = document.createElement('li');
                li.textContent = `${song.title} - ${song.artist}`;
                li.onclick = () => loadSong(index);
                songList.appendChild(li);
            });
        }

        // On Page Load
        window.onload = function () {
            loadSongs();
            loadSong(currentSongIndex);
            document.getElementById('loader').classList.add('hide-loader');
            document.getElementById('content').classList.remove('hide-loader');
        };

    </script>

</body>
</html>
