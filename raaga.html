<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#121212">
    <title>S…ØŒ±…æŒ±‚Ñ¢ By üïäùêìùêïùêìùêûùê•ùêÆùê†ùêÆ‚Ñ¢</title>
    <link rel="icon" type="image/x-icon" href="https://tvtelugu.github.io/images/tvtelugu.ico">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Parkinson&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anek+Telugu:wght@400;700&display=swap" rel="stylesheet">
    <style>
       /* General Reset and Layout */
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Parkinson', sans-serif;
            background-color: #121212;
            color: white;
            height: 100%;
            overflow: hidden;
        }

        /* Loader Styles */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #121212;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loader .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Hide loader when page is loaded */
        .hide-loader {
            display: none;
        }

        /* Main Layout */
        .container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* Header */
        #header {
            display: flex;
            align-items: center;
            padding: 10px;
            background-color: #1F1F1F;
            justify-content: space-between;
        }

        /* Logo Container */
        #logo-container {
        display: flex;              /* Use flexbox for side-by-side layout */
        align-items: center;        /* Vertically center the items */
    }

        /* Page Logo */
        #page-logo {
            width: 40px;
            height: 40px;
            padding: 5px
            object-fit: contain;
        }

        #logo-text {
            font-size: 18px;            /* Set the font size for the text */
            font-weight: bold;          /* Optional: make the text bold */
            color: White;             /* Optional: set a color for the text */
         }

        /* Search Bar */
        #search-container {
            display: flex;
            align-items: center;
            background-color: #333;
            border-radius: 20px;
            padding: 5px 8px;
            width: 200px;
            gap: 10px;
            transition: all 0.3s ease;
        }

       #search-bar {
    background: none;
    border: none;
    color: white;
    font-size: 14px;
    outline: none;
    padding: 0 8px 0 10px; /* Adjust padding to allow space for the button */
    width: 100%;
    height: 100%;
}

#search-btn {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    height: 100%;
    width: 40px; /* Adjust the size of the button */
}

        /* Main Player */
        #player-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            flex: 1;
            overflow-y: auto;
        }

/* Album Image */
#album-poster {
    width: 350px;
    height: 350px;
    background-size: cover;
    background-position: center;
    border-radius: 15px;
    margin-bottom: 15px;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Lyrics Section */
#lyrics-container {
    font-family: 'Anek Telugu', sans-serif;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centers the text */
    width: 98%; /* Adjust the width to fit inside the album art */
    text-align: center;
    color: #bbb;
    font-size: 14px;
    z-index: 10;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.4); /* Semi-transparent background */
    border-radius: 15px;
    backdrop-filter: blur(8px); /* Apply the blur effect to the background */
    overflow-y: auto; /* Allow scrolling */
    max-height: 98%; /* Prevent overflowing beyond album art */
    scroll-behavior: smooth; /* Smooth scrolling when jumping to a line */
}

/* Lyrics Text */
#lyrics-text {
    white-space: pre-line; /* Maintains the line breaks in the lyrics */
    font-size: 14px;
    color: white;
    line-height: 1.5; /* Adjust line height for better readability */
}

/* Highlighted Lyrics */
.highlight {
    color: #ffffff;
    font-weight: none;
}

/* Hide the scroll bar */
#lyrics-container::-webkit-scrollbar {
    display: none;
}

        /* Song Info */
        #song-info {
            text-align: center;
            margin-bottom: 20px;
        }

        #song-name {
            font-size: 22px;
            font-weight: bold;
            margin: 10px 0;
        }

        #song-artist {
            font-size: 16px;
            color: #999;
        }

        #album-name {
            font-size: 14px;
            font-weight: bold;
            color: #888;
            margin-top: 5px;
        }

        /* Song List */
        #song-list {
            width: 100%;
            padding: 10px;
            background-color: #1F1F1F;
            border-radius: 10px;
            margin-bottom: 20px;
            border: none;
            color: white;
        }

        /* Controls */
        #controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
        }

        #controls button {
            background: none;
            border: none;
            color: white;
            font-size: 40px;
            cursor: pointer;
        }


       .refresh-button {
        font-size: 24px;
        color: white;
        border: none;
        background: transparent;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 2px; /* Space between refresh button and search bar */
    }
        
/* Container for progress bar and time display */
.progress-container {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Optional: If you want space between the elements */
    width: 100%;
}

/* Progress Bar */
#progress-bar {
    width: 100%;  /* Adjust the width if needed */
    height: 10px;
    background-color: #333;
    border-radius: 5px;
    margin-right: 10px;  /* Space between the progress bar and time display */
    outline: none;
    cursor: pointer;
}

#progress-bar::-webkit-slider-thumb {
    background: #FF4081;
    border: none;
    height: 20px;
    width: 20px;
    border-radius: 50%;
    cursor: pointer;
}

/* Time Display */
#time-display {
    font-size: 14px;
    color: #FFF;
}

        /* Quality Dropdown */
        #quality-select {
            background-color: #1F1F1F;
            color: white;
            border: none;
            padding: 8px;
            border-radius: 5px;
            font-size: 16px;
            margin-top: 15px;
        }

        /* Shuffle and Download Icon */
        #shuffle-btn {
            font-size: 30px;
            color: white;
            cursor: pointer;
            margin-right: 20px;
        }

        #downloadButton {
            font-size: 30px;
            color: white;
            cursor: pointer;
        }

         #controls-row {
            display: flex;
            justify-content: space-between; /* Space out elements */
            align-items: center; /* Align vertically */
        }

        #song-list, #quality-select {
             margin: 0 10px; /* Optional: add space between the dropdowns */
        }
        
     /* Footer Styling */
    .footer {
      text-align: center;
      padding: 10px 0;
      background: transparent;
      color: white;
      font-size: 14px;
    }

    .footer a {
      color: white;
    }

    .footer a:hover {
      color: #ffcc00;
    }

        #radio-switch {
          position: absolute;
    right: 250px;
    top: 18px;
    }
    .radio-button {
        text-decoration: none;
        color: inherit;
        font-size: 24px;
    }
    .radio-button:hover {
        color: #ff5722; /* Optional hover effect */
    }



/* Error Popup Styling */
#error-popup {
    display: none; /* Initially hidden */
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #ff9d00;
    color: white;
    padding: 15px 30px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    font-size: 16px;
    z-index: 1000;
    opacity: 0;
    animation: popup-animation 0.5s ease-in-out forwards, ribbon-border 3s linear infinite;
    width: auto;
    max-width: 90%;
    text-align: center;
}

/* Popup animation for smooth appearance */
@keyframes popup-animation {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* Ribbon border animation */
@keyframes ribbon-border {
    0%, 100% {
        border: 5px solid transparent;
        border-image: linear-gradient(45deg, #ff5722, #2196f3);
        border-image-slice: 1;
    }
    50% {
        border: 5px solid transparent;
        border-image: linear-gradient(45deg, #2196f3, #ff5722);
        border-image-slice: 1;
    }
}

/* Button to Switch to Radio */
.btn-radio {
    background-color: #4caf50;
    color: white;
    border: none;
    padding: 8px 16px;
    margin-top: 10px;
    cursor: pointer;
    border-radius: 5px;
}

.btn-radio:hover {
    background-color: #45a049;
}

/* Styling the popup content */
.popup-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

/* Error Message Text */
#error-message {
    margin-bottom: 10px;
    font-size: 14px;
    font-weight: bold;
}


	    
        /* Mobile Responsiveness */
        @media (max-width: 768px) {

#search-container {
    display: flex; /* Ensure search bar and button align in a row */
    width: 150px;
    height: 25px; /* Adjust the height of the container */
}

#search-bar {
    background: none;
    border: none;
    color: white;
    font-size: 14px;
    outline: none;
    padding: 0 6px 0 8px; /* Adjust padding to allow space for the button */
    width: 100%;
    height: 100%;
}

#search-btn {
    background: none;
    border: none;
    color: white;
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    height: 100%;
    width: 40px; /* Adjust the size of the button */
}

     #radio-switch {
      position: absolute;
      right: 200px;
      top: 18px;
    }
    .radio-button {
        text-decoration: none;
        color: inherit;
        font-size: 24px;
    }
    .radio-button:hover {
        color: #ff5722; /* Optional hover effect */
    }

            
            #song-list {
                width: 90%;
            }

            #song-name {
                font-size: 18px;
            }

            #song-artist {
                font-size: 14px;
            }

            #controls button {
                font-size: 30px;
            }

            #quality-select {
                font-size: 14px;
            }

            #album-poster {
                width: 350px;
                height: 350px;
            }

            #downloadButton {
                font-size: 20px;
            }
        }

        /* Hide audio element */
        #audio {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>

    <div class="container" id="content" class="hide-loader">

<!-- Header -->
<div id="header">
    <div id="logo-container">
        <img src="https://tvtelugu.github.io/images/tvtelugu.ico" alt="Logo" id="page-logo" />
        <span id="logo-text">S…ØŒ±…æŒ±‚Ñ¢</span>
    </div>

    <div id="search-container">
        <!-- Page Refresh Button -->
        <button class="refresh-button" onclick="window.location.reload();">
            <span class="material-icons">refresh</span>
        </button>

        <!-- Search Bar -->
        <input type="text" id="search-bar" placeholder="Search..." onkeyup="searchSongs(this.value)" />
        
        <!-- Search Button -->
        <button id="search-btn">
            <i class="material-icons">search</i>
        </button>
    </div>

    <!-- Radio Page Switch Button (Moved here) -->
    <div id="radio-switch">
        <a href="https://tvt-swara.vercel.app/radio.html" class="radio-button">
            <span class="material-icons">radio</span>
        </a>
    </div>
</div>
        <!-- Main Player -->
        <div id="player-container">

            <!-- Album Poster -->
            <div id="album-poster" onclick="toggleLyrics()">
                <div id="lyrics-container">
                    <div id="lyrics-text">Loading lyrics...</div>
                </div>
            </div>

            <!-- Song Info -->
            <div id="song-info">
               <p><span id="song-name">Song Name</span></p>
                  <span id="song-artist">Artist Name</span> <span> - </span>
                  <span id="album-name">Album Name</span>
            </div>

            <!-- Controls -->
            <div id="controls">
                <button id="shuffle-btn" onclick="shufflePlaylist()">
                    <i class="material-icons">shuffle</i>
                </button>
                <button id="prev" onclick="prevSong()">
                    <i class="material-icons">skip_previous</i>
                </button>
                <button id="play" onclick="togglePlay()">
                    <i class="material-icons" id="play-icon">play_arrow</i>
                </button>
                <button id="next" onclick="nextSong()">
                    <i class="material-icons">skip_next</i>
                </button>
                <button id="downloadButton" onclick="downloadAudio()">
                    <i class="material-icons">download</i>
                </button>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container">
            <input type="range" id="progress-bar" value="0" max="100" onchange="seekSong()" />
            <span id="time-display">0:00</span>
            </div>
<p></p>
            <!-- Song List and Quality Dropdown -->
            <div id="controls-row">
                <select id="song-list" onchange="playSong()">
                    <option value="">Select a song</option>
                </select>
                <select id="quality-select" onchange="changeQuality()">
                    <option value="12">Low Quality</option>
                    <option value="48">Medium Quality</option>
                    <option value="96">High Quality</option>
                    <option value="160" selected>Very High Quality</option>
                    <option value="320">Ultra High Quality</option>
                </select>
            </div>

        </div>
<div id="error-popup" class="error-popup">
    <div class="popup-content">
        <span id="error-message"><p>Sorry..</p>API Down, Welcome back After Some time or Switch to Radio</span>
        <button id="switch-to-radio" class="btn-radio">Switch to Radio</button>
    </div>
</div>


 <!-- Footer -->
    <footer class="footer">
      <p>
        ¬© ùüêùüéùüêùüí || S…ØŒ±…æŒ±‚Ñ¢ Made with ‚ù§Ô∏è by <a href="https://t.me/tvtelugu" target="_blank">ùêåùêöùêùùê°ùêÆ</a>
      </p>
    </footer>
        
    </div>

    <!-- Audio Player -->
    <audio id="audio" controls></audio>
<script>
(function() {
    function t() {
        const e = document.getElementById("lyrics-container");
        e.style.display = e.style.display === "flex" ? "none" : "flex";
    }
    const e = [
        'Telugu', 'Telugu 90', 'Telugu 80', 'Telugu Old', 'Telugu retro', 'Telugu Devotional', 
        'Srinivasa Govinda', 'Sri Venkateshwara Suprabhatham', 'M. S. Subbulakshmi', 'P. Susheela',
        'Ghantasala', 'S. Janaki', 'Mano', 'Telugu Shreya Ghoshal', 'veturi sundararama murthy', 'veturi',
        'Telugu Devi Sri Prasad', 'Mani Sharma', 'Anoop Rubens',
        'S. P. Balasubrahmanyam', 'Ilaiyaraaja', 'Telugu K.J. Yesudas', 'Telugu M. M. Keeravani',
        'Annamayya Keerthana', 'Telugu G.V. Prakash Kumar', 'Telugu Anurag Kulkarni', 'Mahesh Babu',
        'Telugu Thaman S', 'Ram Miriyala', 'Bheems Ceciroleo', 'Telugu Yuvan Shankar Raja',
        'Ramajogayya Sastry', 'balagam', 'latest telugu', 'telugu folk', 'new telugu remix'
    ], o = document.getElementById("audio"), r = document.getElementById("play-icon"), n = document.getElementById("song-list"), a = document.getElementById("progress-bar"), i = document.getElementById("time-display"), s = document.getElementById("quality-select"), c = 0, u = [];
    window.onload = async function () {
        const t = document.querySelector('#page-logo'), e = document.querySelector('a[href="https://t.me/tvtelugu"]');
        if (!t || !e) {
            e("Critical resources are missing! Please check your page source.");
            return;
        }
        const l = e[Math.floor(Math.random() * e.length)];
        await f(l);
        document.getElementById("loader").classList.add('hide-loader');
        document.getElementById("content").classList.remove('hide-loader');
    };
    async function f(t) {
        if (!t) return;
        let e = `https://saavn.dev/api/search/songs?query=${t}&page=1&limit=50`;
        try {
            const t = await fetch(e);
            if (!t.ok) throw new Error('API Down');
            const e = await t.json();
            u = e.data.results;
            d();
        } catch (t) {
            console.error('Error fetching songs:', t);
            h("Error fetching songs from the API.");
        }
    }
    async function l(t) {
        let e = `https://saavn.dev/api/songs/${t}/lyrics`;
        try {
            const t = await fetch(e), e = await t.json();
            const n = document.getElementById("lyrics-container"), a = document.getElementById("lyrics-text");
            if (e.data) {
                const t = e.data.lyrics.split('\n');
                let e = t.map((t, e) => `<p class="lyrics-line" id="line-${e}">${t}</p>`).join('');
                a.innerHTML = e, n.style.display = 'block', h(0);
            } else a.innerText = 'Lyrics not available.', n.style.display = 'none';
        } catch (t) {
            console.error('Error fetching lyrics:', t), document.getElementById("lyrics-container").style.display = 'none';
        }
    }
    function h(t) {
        const e = document.querySelectorAll('.lyrics-line');
        e.forEach(e => e.classList.remove('highlight'));
        const n = e[t];
        n && (n.classList.add('highlight'), m(n));
    }
    function m(t) {
        const e = document.getElementById("lyrics-container");
        const n = t.offsetTop, a = t.offsetHeight;
        e.scrollTop = n - (e.offsetHeight / 2) + (a / 2);
    }
    o.ontimeupdate = function () {
        let t = (o.currentTime / o.duration) * 100;
        a.value = t;
        let e = Math.floor(o.currentTime / 60), n = Math.floor(o.currentTime % 60);
        i.innerText = `${e}:${n < 10 ? '0' : ''}${n}`;
        const a = Math.floor(o.currentTime), r = document.querySelectorAll('.lyrics-line');
        let s = 0;
        for (let e = 0; e < r.length; e++) {
            const t = r[e], n = parseInt(t.getAttribute('data-time'), 10);
            n <= a && (s = e);
        }
        h(s);
    };
    function d() {
        n.innerHTML = "<option value=''>Select a song</option>";
        u.forEach((t, e) => {
            const n = document.createElement("option");
            n.value = e, n.innerHTML = t.name, n.appendChild(n);
        }), u.length > 0 && (c = 0, v(), o.play());
    }
    function v() {
        const t = u[c];
        const e = s.value, r = t.downloadUrl.find(t => t.quality === `${e}kbps`).url;
        o.src = r;
        document.getElementById("song-name").innerText = y(t.name);
        document.getElementById("song-artist").innerText = y(t.artists.primary[0].name);
        document.getElementById("album-name").innerText = y(t.album.name);
        document.getElementById("album-poster").style.backgroundImage = `url(${t.image[2].url})`;
        r.innerText = "pause";
        l(t.id);
        u();
    }
    function y(t) {
        return t.replace(/"/g, '');
    }
    function r() {
        if (o.paused) o.play(), r.innerText = "pause";
        else o.pause(), r.innerText = "play_arrow";
    }
    function p() {
        const t = o.duration * (a.value / 100);
        o.currentTime = t;
    }
    function b() {
        if (o.src) {
            v();
            o.play();
        }
    }
    function E() {
        c = (c - 1 + u.length) % u.length, v(), o.play();
    }
    function f() {
        c = (c + 1) % u.length, v(), o.play();
    }
    function T() {
        u.sort(() => Math.random() - 0.5), d();
    }
    function k() {
        const t = u[c];
        const e = t.downloadUrl[4].url;
        fetch(e)
            .then(t => {
                if (!t.ok) throw new Error('Network response was not ok');
                return t.blob();
            })
            .then(t => {
                const e = URL.createObjectURL(t), r = t.name.replace(/\.[^/.]+$/, ''), n = document.createElement('a');
                n.href = e, n.download = `${r}.mp3`, document.body.appendChild(n), n.click(), document.body.removeChild(n), URL.revokeObjectURL(e);
            })
            .catch(t => console.error('Download failed:', t));
    }
    function w(t) {
        const e = document.createElement('div');
        e.style.position = 'fixed';
        e.style.top = '0';
        e.style.left = '0';
        e.style.width = '100%';
        e.style.padding = '10px';
        e.style.backgroundColor = '#ffcccc';
        e.style.textAlign = 'center';
        e.style.fontSize = '16px';
        e.innerText = t;
        document.body.appendChild(e);
        setTimeout(() => {
            e.style.display = 'none';
        }, 5000);
    }
})();
</script>


</body>
</html>
